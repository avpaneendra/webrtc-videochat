<!DOCTYPE html>
<html>
<head>

<meta name='keywords' content ='WebRTC, HTML5, JavaScript' />
<meta name='description' content='WebRTC' />
<link rel="icon" href="favicon.ico" type="image/x-icon"/>
<meta name='viewport' content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1'>

<base target='_blank'>

<title>WebRTC client</title>
<script src="/mainrtc.js"></script>
<script src="/js/jquery.js"></script>
<script src="/js/constraints.js"></script>
<script src="/js/frontOptions.js"></script>
<script src="/js/rtcData.js"></script>
<script src="/js/adapter.js"></script>
<script src="/js/socketTool.js"></script>
<script src="/socket.io/socket.io.js"></script>



<!-- <link rel='stylesheet' href='css/main.css' /> -->

</head>

<body>

<video id = "remote" autoplay></video>
<video id = "local" autoplay></video>
<canvas></canvas>
<button id="capture">Capture</button>
<script src="/js/main.js"></script>
<input id="msg" type="text" name="message" placeholder="Message"/>
<input  id="btnUserA" value="Send A" type="submit" onclick="sendInput(this.id)">
<input  id="btnUserB" value="Send B" type="submit" onclick="sendInput(this.id)">
<input  id="btnUserAOffer" value="Send A O" type="submit" onclick="sendInput(this.id)">
<input  id="btnUserBAnswer" value="Send B A" type="submit" onclick="sendInput(this.id)">
<script>
var socket = io.connect();

function sendInput(id){
	
	//var input = document.getElementById("msg").value;
	var msg;
	if( id == "btnUserA" ) msg = { type: 'login', name: 'UserA' };
	if( id == "btnUserB" ) msg = { type: 'login', name: 'UserB' };
	
	socket.send(JSON.stringify(msg));

	socket.on('message', function(msg){
		var json = mainrtc.socketTool.isJson(msg);
		if(json) console.log('message JSON: '+ msg);
		else console.log('message not JSON: '+ msg);
	});


}

</script>
</body>
</html>
